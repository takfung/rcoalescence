steps:
  - bash: |
      Rscript -e "install.packages(c('remotes', 'rcmdcheck', 'devtools'))"
      Rscript -e "remotes::install_deps(dependencies = TRUE)"
    condition: or(eq( variables['Agent.OS'], 'Linux' ), eq( variables['Agent.OS'], 'Darwin' ))
    displayName: 'Install package dependencies -nix '
  - pwsh: |
      Rscript -e "install.packages(c('remotes', 'rcmdcheck', 'devtools'), repos = 'http://cran.us.r-project.org')"
      Rscript -e "Rscript -e "install_version('backports', version = '1.1.0')"
      Rscript -e "remotes::install_deps(dependencies = TRUE, repos = 'http://cran.us.r-project.org')"
    condition: eq( variables['Agent.OS'], 'Windows_NT' )
    displayName: 'Install package dependencies - windows'
